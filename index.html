<!doctype html>
<html>
  <head>
    <title>Pervasives functions for Big Data Layout for Asynchronous Computations on Spreadsheets (BLACS)</title>
    <style type="text/css">
      body {
	font-family: Trebuchet MS, sans-serif;
	font-size: 15px;
	color: #444;
	margin-right: 24px;
}

h1	{
	font-size: 25px;
}
h2	{
	font-size: 20px;
}
h3	{
	font-size: 16px;
	font-weight: bold;
}
hr	{
	height: 1px;
	border: 0;
	color: #ddd;
	background-color: #ddd;
}

.app-desc {
  clear: both;
  margin-left: 20px;
}
.param-name {
  width: 100%;
}
.license-info {
  margin-left: 20px;
}

.license-url {
  margin-left: 20px;
}

.model {
  margin: 0 0 0px 20px;
}

.method {
  margin-left: 20px;
}

.method-notes	{
	margin: 10px 0 20px 0;
	font-size: 90%;
	color: #555;
}

pre {
  padding: 10px;
  margin-bottom: 2px;
}

.http-method {
 text-transform: uppercase;
}

pre.get {
  background-color: #0f6ab4;
}

pre.post {
  background-color: #10a54a;
}

pre.put {
  background-color: #c5862b;
}

pre.delete {
  background-color: #a41e22;
}

.huge	{
	color: #fff;
}

pre.example {
  background-color: #f3f3f3;
  padding: 10px;
  border: 1px solid #ddd;
}

code {
  white-space: pre;
}

.nickname {
  font-weight: bold;
}

.method-path {
  font-size: 1.5em;
  background-color: #0f6ab4;
}

.up {
  float:right;
}

.parameter {
  width: 500px;
}

.param {
  width: 500px;
  padding: 10px 0 0 20px;
  font-weight: bold;
}

.param-desc {
  width: 700px;
  padding: 0 0 0 20px;
  color: #777;
}

.param-type {
  font-style: italic;
}

.param-enum-header {
width: 700px;
padding: 0 0 0 60px;
color: #777;
font-weight: bold;
}

.param-enum {
width: 700px;
padding: 0 0 0 80px;
color: #777;
font-style: italic;
}

.field-label {
  padding: 0;
  margin: 0;
  clear: both;
}

.field-items	{
	padding: 0 0 15px 0;
	margin-bottom: 15px;
}

.return-type {
  clear: both;
  padding-bottom: 10px;
}

.param-header {
  font-weight: bold;
}

.method-tags {
  text-align: right;
}

.method-tag {
  background: none repeat scroll 0% 0% #24A600;
  border-radius: 3px;
  padding: 2px 10px;
  margin: 2px;
  color: #FFF;
  display: inline-block;
  text-decoration: none;
}

    </style>
  </head>
  <body>
  <h1>Pervasives functions for Big Data Layout for Asynchronous Computations on Spreadsheets (BLACS)</h1>
    <div class="app-desc">## Logical Clock 
The logical time allows linearization, in order to provide safe concurrency a logical time is used.
With linearization of events the happened-before relation is evident an prevents race-conditions.
## IO Operations on the sheet
Both read and write functions have a logical time parametere. This time is given by the clock service.
This way, the relation happened-before is consistent.As well, to enable a multiagent each agent identifies itself with a tag. So, a value identified by three parameters. It coordinates, an agent tag and a logical time.
In BLACS we describe a grid in a new format. Instead of using the convetional sequence between two coordinates like A1;B2 we describe it by the dimensions of the grid. Describing grids by comprehension, allows to describe easily all kinds of grids. In particular one could describe inifinite grids using special parameters ie. 0 lenght or width. Usefull when a user doesn't know how many cells are in a given grid.
## Evaluation of a formula
The evaluation of a given formula can be achieved by a single process or rather in parallel by many processes in an asynchronous way. To express this, a value defined by a formula is as well defined by a collection of promosises. A promise is formed of a date, a grid description and a constant value. Therefore, a promise of evaluation can be on a part of the formula. This allows having a collection of evaluators trying to compute the formula. The date, indicates when a promise will be valid. Before this date, the value of the promise shall not be considered. Should an evaluator fail to fulfill its promise the value should be labeled none. To indicate that an evaluation is still needed. 
## Types
### API Types
In this API types are used to describe de arguments of a function. In particular read and write requests.
### BLACS Types
BLACS itself has three kind of types to describe values, none, constants (integers) and formulae (count). This types are used to ensure safety as well as make programming easier.
</div>
    <div class="app-desc">More information: <a href="https://github.com/BLACS">https://github.com/BLACS</a></div>
    <div class="app-desc">Contact Info: <a href="colin.gonzalez@openmailbox.org">colin.gonzalez@openmailbox.org</a></div>
    <div class="app-desc">Version: 0.1</div>
    <div class="app-desc">BasePath:/blacs/pervasives/0.1</div>
    <div class="license-info">All rights reserved</div>
    <div class="license-url">http://apache.org/licenses/LICENSE-2.0.html</div>
  <h2>Access</h2>

  <h2><a name="__Methods">Methods</a></h2>
  [ Jump to <a href="#__Models">Models</a> ]

  <h3>Table of Contents </h3>
  <div class="method-summary"></div>
  <h4><a href="#Clock">Clock</a></h4>
  <ul>
  <li><a href="#time"><code><span class="http-method">get</span> /time</code></a></li>
  </ul>
  <h4><a href="#Io">Io</a></h4>
  <ul>
  <li><a href="#read"><code><span class="http-method">post</span> /read</code></a></li>
  <li><a href="#write"><code><span class="http-method">post</span> /write</code></a></li>
  </ul>

  <h1><a name="Clock">Clock</a></h1>
  <div class="method"><a name="time"/>
    <div class="method-path">
    <a class="up" href="#__Methods">Up</a>
    <pre class="get"><code class="huge"><span class="http-method">get</span> /time</code></pre></div>
    <div class="method-summary">Returns the logical time. (<span class="nickname">time</span>)</div>
    <div class="method-notes"></div>


    <h3 class="field-label">Consumes</h3>
    This API call consumes the following media types via the <span class="heaader">Content-Type</span> request header:
    <ul>
      <li><code>application/json</code></li>
    </ul>





    <h3 class="field-label">Return type</h3>
    <div class="return-type">
      
      BigDecimal
    </div>

    <!--Todo: process Response Object and its headers, schema, examples -->

    <h3 class="field-label">Example data</h3>
    <div class="example-data-content-type">Content-Type: application/json</div>
    <pre class="example"><code>1.3579000000000001069366817318950779736042022705078125</code></pre>


    <h3 class="field-label">Responses</h3>
    <h4 class="field-label">200</h4>
    succesful operation
        <a href="#BigDecimal">BigDecimal</a>
    <h4 class="field-label">400</h4>
    error
        <a href="#"></a>
  </div> <!-- method -->
  <hr/>
  <h1><a name="Io">Io</a></h1>
  <div class="method"><a name="read"/>
    <div class="method-path">
    <a class="up" href="#__Methods">Up</a>
    <pre class="post"><code class="huge"><span class="http-method">post</span> /read</code></pre></div>
    <div class="method-summary">Reads from spreadsheet (<span class="nickname">read</span>)</div>
    <div class="method-notes"></div>


    <h3 class="field-label">Consumes</h3>
    This API call consumes the following media types via the <span class="heaader">Content-Type</span> request header:
    <ul>
      <li><code>application/json</code></li>
    </ul>

    <h3 class="field-label">Request body</h3>
    <div class="field-items">
      <div class="param">body (required)</div>

      <div class="param-desc"><span class="param-type">Body Parameter</span> &mdash;  </div>
    </div>  <!-- field-items -->




    <h3 class="field-label">Return type</h3>
    <div class="return-type">
      array[<a href="#LocatedValue">LocatedValue</a>]
      
    </div>

    <!--Todo: process Response Object and its headers, schema, examples -->

    <h3 class="field-label">Example data</h3>
    <div class="example-data-content-type">Content-Type: application/json</div>
    <pre class="example"><code>[ {
  "value" : {
    "data" : [ 1.3579000000000001069366817318950779736042022705078125 ],
    "ty" : "aeiou",
    "promises" : [ {
      "date" : { },
      "domain" : [ 1.3579000000000001069366817318950779736042022705078125 ],
      "value" : 1.3579000000000001069366817318950779736042022705078125
    } ]
  },
  "coords" : {
    "col" : 123456789,
    "row" : 123456789
  }
} ]</code></pre>


    <h3 class="field-label">Responses</h3>
    <h4 class="field-label">200</h4>
    successful operation
        
    <h4 class="field-label">410</h4>
    IO error
        <a href="#"></a>
  </div> <!-- method -->
  <hr/>
  <div class="method"><a name="write"/>
    <div class="method-path">
    <a class="up" href="#__Methods">Up</a>
    <pre class="post"><code class="huge"><span class="http-method">post</span> /write</code></pre></div>
    <div class="method-summary">Writes to spreadsheet (<span class="nickname">write</span>)</div>
    <div class="method-notes"></div>


    <h3 class="field-label">Consumes</h3>
    This API call consumes the following media types via the <span class="heaader">Content-Type</span> request header:
    <ul>
      <li><code>application/json</code></li>
    </ul>

    <h3 class="field-label">Request body</h3>
    <div class="field-items">
      <div class="param">body (required)</div>

      <div class="param-desc"><span class="param-type">Body Parameter</span> &mdash;  </div>
    </div>  <!-- field-items -->





    <!--Todo: process Response Object and its headers, schema, examples -->



    <h3 class="field-label">Responses</h3>
    <h4 class="field-label">200</h4>
    successful operation
        <a href="#"></a>
    <h4 class="field-label">410</h4>
    IO error
        <a href="#"></a>
  </div> <!-- method -->
  <hr/>

  <div class="up"><a href="#__Models">Up</a></div>
  <h2><a name="__Models">Models</a></h2>
  [ Jump to <a href="#__Methods">Methods</a> ]

  <h3>Table of Contents</h3>
  <ol>
    <li><a href="#Coordinate"><code>Coordinate</code></a></li>
    <li><a href="#LocatedValue"><code>LocatedValue</code></a></li>
    <li><a href="#Promise"><code>Promise</code></a></li>
    <li><a href="#ReadRequest"><code>ReadRequest</code></a></li>
    <li><a href="#Time"><code>Time</code></a></li>
    <li><a href="#TypedValue"><code>TypedValue</code></a></li>
    <li><a href="#WriteRequest"><code>WriteRequest</code></a></li>
  </ol>

  <div class="model">
    <h3 class="field-label"><a name="Coordinate">Coordinate - </a> <a class="up" href="#__Models">Up</a></h3>
    <div class='model-description'></div>
    <div class="field-items">
      <div class="param">row </div><div class="param-desc"><span class="param-type"><a href="#long">Long</a></span>  format: int64</div>
<div class="param">col </div><div class="param-desc"><span class="param-type"><a href="#long">Long</a></span>  format: int64</div>
    </div>  <!-- field-items -->
  </div>
  <div class="model">
    <h3 class="field-label"><a name="LocatedValue">LocatedValue - </a> <a class="up" href="#__Models">Up</a></h3>
    <div class='model-description'></div>
    <div class="field-items">
      <div class="param">coords </div><div class="param-desc"><span class="param-type"><a href="#Coordinate">Coordinate</a></span>  </div>
<div class="param">value </div><div class="param-desc"><span class="param-type"><a href="#TypedValue">TypedValue</a></span>  </div>
    </div>  <!-- field-items -->
  </div>
  <div class="model">
    <h3 class="field-label"><a name="Promise">Promise - </a> <a class="up" href="#__Models">Up</a></h3>
    <div class='model-description'></div>
    <div class="field-items">
      <div class="param">date </div><div class="param-desc"><span class="param-type"><a href="#Time">Time</a></span>  </div>
<div class="param">domain </div><div class="param-desc"><span class="param-type"><a href="#number">array[BigDecimal]</a></span>  </div>
<div class="param">value </div><div class="param-desc"><span class="param-type"><a href="#number">BigDecimal</a></span>  </div>
    </div>  <!-- field-items -->
  </div>
  <div class="model">
    <h3 class="field-label"><a name="ReadRequest">ReadRequest - </a> <a class="up" href="#__Models">Up</a></h3>
    <div class='model-description'></div>
    <div class="field-items">
      <div class="param">tag </div><div class="param-desc"><span class="param-type"><a href="#string">String</a></span>  </div>
<div class="param">time </div><div class="param-desc"><span class="param-type"><a href="#Time">Time</a></span>  </div>
<div class="param">origin </div><div class="param-desc"><span class="param-type"><a href="#Coordinate">Coordinate</a></span>  </div>
<div class="param">length </div><div class="param-desc"><span class="param-type"><a href="#number">BigDecimal</a></span>  </div>
<div class="param">width (optional)</div><div class="param-desc"><span class="param-type"><a href="#number">BigDecimal</a></span>  </div>
<div class="param">default (optional)</div><div class="param-desc"><span class="param-type"><a href="#string">String</a></span>  </div>
    </div>  <!-- field-items -->
  </div>
  <div class="model">
    <h3 class="field-label"><a name="Time">Time - </a> <a class="up" href="#__Models">Up</a></h3>
    <div class='model-description'>Time since epoch</div>
    <div class="field-items">
          </div>  <!-- field-items -->
  </div>
  <div class="model">
    <h3 class="field-label"><a name="TypedValue">TypedValue - </a> <a class="up" href="#__Models">Up</a></h3>
    <div class='model-description'></div>
    <div class="field-items">
      <div class="param">ty </div><div class="param-desc"><span class="param-type"><a href="#string">String</a></span>  </div>
<div class="param">data </div><div class="param-desc"><span class="param-type"><a href="#number">array[BigDecimal]</a></span>  </div>
<div class="param">promises (optional)</div><div class="param-desc"><span class="param-type"><a href="#Promise">array[Promise]</a></span>  </div>
    </div>  <!-- field-items -->
  </div>
  <div class="model">
    <h3 class="field-label"><a name="WriteRequest">WriteRequest - </a> <a class="up" href="#__Models">Up</a></h3>
    <div class='model-description'></div>
    <div class="field-items">
      <div class="param">tag </div><div class="param-desc"><span class="param-type"><a href="#string">String</a></span>  </div>
<div class="param">time </div><div class="param-desc"><span class="param-type"><a href="#Time">Time</a></span>  </div>
<div class="param">origin </div><div class="param-desc"><span class="param-type"><a href="#Coordinate">Coordinate</a></span>  </div>
<div class="param">length (optional)</div><div class="param-desc"><span class="param-type"><a href="#integer">Integer</a></span>  </div>
<div class="param">width (optional)</div><div class="param-desc"><span class="param-type"><a href="#integer">Integer</a></span>  </div>
<div class="param">values </div><div class="param-desc"><span class="param-type"><a href="#TypedValue">array[TypedValue]</a></span>  </div>
    </div>  <!-- field-items -->
  </div>
  </body>
</html>
